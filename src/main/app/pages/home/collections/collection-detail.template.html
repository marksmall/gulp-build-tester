<simple-notifications></simple-notifications>

<div *ngIf="collection" class="collection">

  <!-- This bit only appears on actual services -->
  <div *ngIf="collection.id !== 'welcome'">
    <p class="collection-header">
      {{collection.description}}
    </p>
    <ul>
      <li *ngFor="let app of collection.apps">
        <div class="row collection-app">
          <div class="col-xs-11">
            <a class="btn btn-block btn-primary app-link" href="{{app.link}}"
                [class.application-disabled]="!canAccessApplication(app)"
                (click)="accessApplication(app)">
              <p class="text-uppercase">{{app.name}}</p>
              <p class="app-description">{{app.description}}</p>
            </a>
          </div>
          <div class="col-xs-1 icon-size icon-border"
              (click)="selectIcon(app)"
              [class.info-selected]="app.infoExpanded">
            <div class="info-icon">
              <button class="btn-blank" type="button" data-toggle="collapse" [attr.data-target]="'#' + app.id + '-info'" role="button" aria-expanded="false" [attr.aria-controls]="app.id + '-info'">
                <dynamic-svg svg="{{infoIcon}}"></dynamic-svg>
              </button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 collapse" id="{{app.id}}-info"
              [class.info-selected]="app.infoExpanded">
            <div class="row collection-app">
              <div class="col-xs-11 info-gap-left-container">
                <div class="info-gap-left"></div>
              </div>
              <div class="col-xs-1 icon-size">
                <div class="info-gap-right info-content-connecter"></div>
              </div>
            </div>
            <div class="row collection-app">
              <div class="col-xs-11 info-gap-left-container">
                <div class="info-gap-left info-content-top-left"></div>
              </div>
              <div class="col-xs-1 icon-size">
                <div class="info-gap-right info-content-top-right"></div>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
                <div class="info-content" [innerHTML]="app.infoContent">
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <!-- This bit only appears on the welcome tab -->
  <div *ngIf="collection.id === 'welcome'">

    <hr>

    <div>
      <h4 class="text-uppercase">What can I do with Digimap?</h4>
      <ul class="style-welcome">
        <li>View, annotate &amp; print maps from a variety of geospatial data providers</li>
        <li>Download geospatial data for use in CAD &amp; GIS systems</li>
        <li>Access information about geospatial data &amp; resources</li>
      </ul>
    </div>

    <hr>

    <div class="clearfix service-announcements">
      <h4 class="text-uppercase pull-left">Service Announcements</h4>
      <span class="pull-right"><img src="images/misc/announcement.svg" alt=""></span>
      <div class="clearfix"></div>
      <p class="text-warning">
        Tuesdays between 8:30 - 9:30 are considered at risk for essential maintenance.
      </p>
      <div class="pull-right">
        <a href="#">More</a> â†’
      </div>
    </div>

  </div>

  <!-- Help Buttons -->
  <div *ngIf="collection.help" class="text-uppercase help-container row">
    <div class="col-xs-11">
      <div class="row">
        <div class="col-xs-6">
          <a class="btn btn-block btn-primary help" href="{{collection.help.left.link}}">
            {{collection.help.left.text}}
          </a>
        </div>
        <div class="col-xs-6">
          <a class="btn btn-block btn-primary help" href="{{collection.help.right.link}}">
            {{collection.help.right.text}}
          </a>
        </div>
      </div>
    </div>
    <div class="col-xs-1 icon-size">
    </div>
  </div>

</div>
